<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<link rel="stylesheet" href="../../../dijit/themes/claro/claro.css"/>


<script src="https://www.google.com/jsapi?key=ABQIAAAA-DMAtggvLwlIYlUJiASaAxRQnCpeV9jusWIeBw0POFqU6SItGxRWZhddpS8pIkVUd2fDQhzwPUWmMA"></script>


<script>
    djConfig = {
        isDebug: true,
		parseOnLoad: false,
        modulePaths: {course: "../course"},
		gfxRenderer: "svg,silverlight,vml",
		mapEngine: "gfx"
    };
</script>
<script src="util.js"></script>

<script src="../../../dojo/dojo.js"></script>

<script>
if (djConfig.mapEngine=="ge") dojo.require("course.geo.ge.Engine");

dojo.require("dijit.form.Button");
dojo.require("course.geo.Map");
dojo.require("course.geo.control.Highlight");
dojo.require("course.geo.control.Tooltip");
dojo.require("course.geo.control.Navigation");


dojo.require("course.geo.tests.data.usa_geometries");

dojo.require("course.geo.tests.data.usa_largest_airports");



var style = [
	{
		name: "Default style",
		stroke: "white",
		strokeWidth: .5,
		fill: "blue",
		size: 20
	}
]

var features = [
	{
		id: "areas",
		features: [
			{
				id: "US-AK"
			},
			{
				id: "US-HI"
			},
			{
				id: "US-TX"
			},
			{
				id: "US-ME"
			}
		],
		style: {
			mode: "highlight",
			reset: true,
			stroke: "red",
			strokeWidth: 4
		}
	},
	{
		id: "airports",
		style: {
			stroke: "red",
			shape: "triangle",
			fill: "green"
		},
		features: course.geo.tests.data.usa_largest_airports
	}
]

var map, highlight, tooltip;

var addOnLoad = function() {
	/*
    new dijit.form.ToggleButton({
		checked: true,
		onChange: function(value){
			if (value) magnify.connect();
			else magnify.disconnect();
		},
		iconClass: "dijitRadioIcon"
	}, "magnify");
	
    new dijit.form.ToggleButton({
		checked: true,
		onChange: function(value){
			if (value) highlight.connect();
			else highlight.disconnect();
		},
		iconClass: "dijitRadioIcon"
	}, "highlight");
	
    new dijit.form.ToggleButton({
		checked: true,
		onChange: function(value){
			if (value) tooltip.connect();
			else tooltip.disconnect();
		},
		iconClass: "dijitRadioIcon"
	}, "tooltip");
	*/

    map = new course.geo.Map("map", {
		engine: {type: djConfig.mapEngine},
		geometries: course.geo.tests.data.usa_geometries,
		style: style,
		features: features
		//attributesInFeature: true
	});
	map.ready(function(){
		new course.geo.control.Navigation(map);
		new course.geo.control.Highlight(map);
		new course.geo.control.Tooltip(map);
	});
}



dojo.addOnLoad(addOnLoad);

</script>

</head>

<body class="claro">

<!--
<div id="magnify">Magnify</div>
<div id="highlight">Highlight</div>
<div id="tooltip">Tooltip</div>
-->
<div id="map" style="width:800px;height:400px;"></div>
Map data (c) <a id="test" href="http://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>.
</body>
</html>